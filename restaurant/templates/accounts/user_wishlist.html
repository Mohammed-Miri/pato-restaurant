{% extends 'base.html'%}
{% load static%}
{% block content%}
<div class="row m-t-120 m-b-120 p-4">
  {% if products %}
  {% for meal in products %}
  <div class="col-md-4">
    <figure class="card card-product-grid ">
      <div class="img-wrap"> 
        
        <a href="{{meal.get_url}}">
          <img src="{{meal.image.url}}" width="350" height="200" style="margin:auto;display: block;margin-bottom:20px;max-width=100%;">
        </a>
        
      </div> <!-- img-wrap.// -->
      <figcaption class="info-wrap">
        <div class="fix-height text-center m-b-20">
          <a href="{{meal.get_url}}" class="title">{{meal.name}}</a>
          <div class="price-wrap mt-2">
              <span class="price">$ {{meal.price}}</span>
              <div><a href="{% url 'add_to_wishlist' meal.id %}"><i class="fa fa-heart-o" aria-hidden="true"></i></a></div>
            <div class="rating-star">
              <span>
                  <i class="fa fa-star{% if meal.averageReview < 0.5 %}-o{% elif meal.averageReview >= 0.5 and meal.averageReview < 1 %}-half-o {% endif %}" aria-hidden="true"></i>
                  <i class="fa fa-star{% if meal.averageReview < 1.5 %}-o{% elif meal.averageReview >= 1.5 and meal.averageReview < 2 %}-half-o {% endif %}" aria-hidden="true"></i>
                  <i class="fa fa-star{% if meal.averageReview < 2.5 %}-o{% elif meal.averageReview >= 2.5 and meal.averageReview < 3 %}-half-o {% endif %}" aria-hidden="true"></i>
                  <i class="fa fa-star{% if meal.averageReview < 3.5 %}-o{% elif meal.averageReview >= 3.5 and meal.averageReview < 4 %}-half-o {% endif %}" aria-hidden="true"></i>
                  <i class="fa fa-star{% if meal.averageReview < 4.5 %}-o{% elif meal.averageReview >= 4.5 and meal.averageReview < 5 %}-half-o {% endif %}" aria-hidden="true"></i>
              </span>
            </div>
          </div> <!-- price-wrap.// -->
        </div>
        <a href="{{meal.get_url}}" class="btn btn-block btn-danger">View Details </a>
      </figcaption>
    </figure>
  </div> <!-- col.// -->
  {% endfor%}
  {% include 'includes/alerts.html' %}
  {% else %}
  <div>
    <h2>No Meals Found</h2>
  </div>
  {% endif %}
</div> <!-- row end.// -->

{% endblock%}